---
import type { CollectionEntry } from "astro:content";
import { MapPin, Clock3, Link, CalendarPlus } from "lucide-react";
import moment from "moment";

interface Props {
    events: CollectionEntry<"events">[];
}

const { events }: Props = Astro.props;
---

<div class="flex flex-col gap-10 md:justify-center md:items-center">
    {
        events &&
            events.map(({ data, slug }) => (
                <div class="flex flex-col md:flex-row gap-4 items-center pb-8">
                    <div class="md:w-40">
                        <div class="flex md:flex-col gap-2 items-center">
                            <div class="text-2xl font-bold">
                                {moment(data.date).format("Do")}
                            </div>
                            <div class="text-xl text-mandy-500 uppercase">
                                {moment(data.date).format("MMMM")}
                            </div>
                            <div class="text-sm uppercase">
                                {moment(data.date).format("YYYY")}
                            </div>
                        </div>
                    </div>

                    <div class="md:w-128 flex flex-col gap-1 items-center">
                        <div class="text-xl font-bold text-center">
                            {data.name}
                        </div>
                        <div class="flex gap-2 text-center">
                            <MapPin /> {data.location.name}
                        </div>
                        <div>{data.description}</div>

                        {data.time && (
                            <div class="flex gap-2 text-center">
                                <Clock3 /> {data.time}
                            </div>
                        )}

                        {data.website && (
                            <div class="flex gap-2 text-center">
                                <Link />
                                <a href={data.website} class="text-mandy-500">
                                    More Information
                                </a>
                            </div>
                        )}
                    </div>
                </div>
            ))
    }
</div>
