---
import Block from "@/components/ui/block.astro";
import Container from "@/components/ui/container.astro";
import PageLayout from "@/layouts/page.layout.astro";
import { bearNamesAlphabet } from "@/libs/alphabet";

import AlphabetButtons from "@/components/bears/alphabet-buttons.astro";
import { getCollection, type CollectionEntry } from "astro:content";
import BearsTable from "@/components/bears/bears-table.astro";

const alphabet = await bearNamesAlphabet(
    ({ data }) => data.status == "rescued",
);

const bears: CollectionEntry<"bears">[] = await getCollection(
    "bears",
    ({ data }) => data.status == "rescued",
);
---

<PageLayout
    title="Bears looking for their home"
    heading="Bears looking for their home"
    subText="..."
>
    <Container>
        <Block>
            <AlphabetButtons
                alphabet={alphabet}
                url="/bears/looking-for-their-home/"
            />
        </Block>

        <Block>
            <BearsTable
                bears={bears}
                hideEventCol={true}
                hideRehomedCol={true}
            />
        </Block>
    </Container>
</PageLayout>
